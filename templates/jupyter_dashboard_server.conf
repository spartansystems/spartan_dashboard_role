# jupyter_dashboard_server upstart manager

description "Manage jupyter_dashboard_server with upstart"
start on runlevel [2345]
stop on runlevel [06]

env KG_AUTH_TOKEN={{ lookup('env', 'KG_AUTH_TOKEN') }}

script

  exec sudo jupyter-dashboards-server \
  --KERNEL_GATEWAY_URL='{{ lookup("env", "KERNEL_GATEWAY_URL") }}' \
  --IP=0.0.0.0 \
  --PORT={{ dashboard_server_port }}


  echo 'jupyter_dashboard_server up'

end script

respawn
